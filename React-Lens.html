<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>React.Lens</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_React-Lens.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption empty">&nbsp;</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr></table><p class="caption">React.Lens</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Lens type</a></li><li><a href="#g:2">Functions</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Basic lens type and functions.</p><p>The lens package should be a drop-in replacement for this.</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">type</span> <a href="#t:Lens">Lens</a> s t a b = <span class="keyword">forall</span> f. Functor f =&gt; (a -&gt; f b) -&gt; s -&gt; f t</li><li class="src short"><span class="keyword">type</span> <a href="#t:Lens-39-">Lens'</a> s a = <a href="React-Lens.html#t:Lens">Lens</a> s s a a</li><li class="src short"><a href="#v:view">view</a> ::  <a href="React-Lens.html#t:Lens">Lens</a> s t a b -&gt; s -&gt; a</li><li class="src short"><a href="#v:set">set</a> ::  <a href="React-Lens.html#t:Lens">Lens</a> s t a b -&gt; b -&gt; s -&gt; t</li><li class="src short"><a href="#v:over">over</a> ::  <a href="React-Lens.html#t:Lens">Lens</a> s t a b -&gt; (a -&gt; b) -&gt; s -&gt; t</li></ul></div><div id="interface"><h1 id="g:1">Lens type</h1><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Lens" class="def">Lens</a> s t a b = <span class="keyword">forall</span> f. Functor f =&gt; (a -&gt; f b) -&gt; s -&gt; f t</p><div class="doc"><p><strong>Purpose</strong></p><p>A value of type <code>Lens s t a b</code> provides the following:</p><ul><li>A reference into the structure <code>s</code> to read and update the value <code>a</code> inside it.</li><li>The possibility to change the type of <code>s</code> to <code>t</code> and the type of <code>a</code> to <code>b</code>.</li></ul><p><strong>The <code>Functor</code> constraint</strong></p><p>Operations may do something more interesting inside the <code>f</code>
 functor. For the purpose of this module and package, all the
 functions below (<code><a href="React-Lens.html#v:view">view</a></code>, <code><a href="React-Lens.html#v:over">over</a></code>, <code><a href="React-Lens.html#v:set">set</a></code>) use a no-op functor
 and therefore the above type is equivalent to:</p><pre>type Lens s t a b = (a -&gt; b) -&gt; (s -&gt; t)</pre><p>But it is left generic for forward compatibilty with the lens
 package.</p><p><strong>Example</strong></p><pre>&#955;&gt; data Person = Person Char Int deriving Show
&#955;&gt; let _age f (Person x a) = fmap (\b -&gt; Person x b) (f a)
&#955;&gt; view _age (Person <code>a</code> 10)
10
&#955;&gt; over _age (+1) (Person <code>a</code> 10)
Person <code>a</code> 11
&#955;&gt; set _age 100 (Person <code>a</code> 10)
Person <code>a</code> 100
&#955;&gt;
</pre><p><strong>Laws</strong></p><p>1) <em>Get-Put</em>: You get back what you put in.</p><pre>view l (set l v s) &#8801; v</pre><p>2) <em>Put-Get</em>: Putting back what you got doesn't change anything.</p><pre>set l (view l s) s &#8801; s</pre><p>3) <em>Put-Put</em>: Setting is idempotent.</p><pre>set l v (set l v s) &#8801; set l v s</pre></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Lens-39-" class="def">Lens'</a> s a = <a href="React-Lens.html#t:Lens">Lens</a> s s a a</p></div><h1 id="g:2">Functions</h1><div class="top"><p class="src"><a name="v:view" class="def">view</a> ::  <a href="React-Lens.html#t:Lens">Lens</a> s t a b -&gt; s -&gt; a</p><div class="doc"><p>Get the <code>a</code> inside the <code>s</code>.</p></div></div><div class="top"><p class="src"><a name="v:set" class="def">set</a> ::  <a href="React-Lens.html#t:Lens">Lens</a> s t a b -&gt; b -&gt; s -&gt; t</p><div class="doc"><p>Set the <code>a</code> inside the <code>s</code>, optionally changing the types to <code>b</code>
 and <code>t</code>.</p></div></div><div class="top"><p class="src"><a name="v:over" class="def">over</a> ::  <a href="React-Lens.html#t:Lens">Lens</a> s t a b -&gt; (a -&gt; b) -&gt; s -&gt; t</p><div class="doc"><p>Modify the <code>a</code> inside the <code>s</code>, optionally changing the types to
 <code>b</code> and <code>t</code>.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.14.3</p></div></body></html>